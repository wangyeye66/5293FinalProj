<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 [Model 2] Tree Regression | IMLV Final Project</title>
  <meta name="description" content="Chapter 3 [Model 2] Tree Regression | IMLV Final Project" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 [Model 2] Tree Regression | IMLV Final Project" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 [Model 2] Tree Regression | IMLV Final Project" />
  
  
  

<meta name="author" content="Han Wang" />


<meta name="date" content="2023-04-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="model-1-random-forest.html"/>
<link rel="next" href="model-3-linear-regression.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">IMLV final project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Proposal Descriptions</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about-dataset"><i class="fa fa-check"></i><b>1.1</b> About Dataset</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#modeling-goal"><i class="fa fa-check"></i><b>1.2</b> Modeling Goal</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#methods"><i class="fa fa-check"></i><b>1.3</b> Methods</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#read-data-from-excel-file"><i class="fa fa-check"></i><b>1.4</b> Read data from Excel file</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#data-cleaning"><i class="fa fa-check"></i><b>1.5</b> Data Cleaning</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#data-pre-processing"><i class="fa fa-check"></i><b>1.6</b> Data pre-processing</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>1.7</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#most-sold-products"><i class="fa fa-check"></i><b>1.7.1</b> Most sold Products</a></li>
<li class="chapter" data-level="1.7.2" data-path="index.html"><a href="index.html#costomer-base-across-the-countries"><i class="fa fa-check"></i><b>1.7.2</b> Costomer base across the countries</a></li>
<li class="chapter" data-level="1.7.3" data-path="index.html"><a href="index.html#total-sales-by-hour"><i class="fa fa-check"></i><b>1.7.3</b> Total Sales by Hour</a></li>
<li class="chapter" data-level="1.7.4" data-path="index.html"><a href="index.html#total-sales-by-day"><i class="fa fa-check"></i><b>1.7.4</b> Total Sales by Day</a></li>
<li class="chapter" data-level="1.7.5" data-path="index.html"><a href="index.html#total-sales-by-month"><i class="fa fa-check"></i><b>1.7.5</b> Total Sales by Month</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#change-categorical-to-numerical"><i class="fa fa-check"></i><b>1.8</b> Change Categorical to Numerical</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#checking-for-principal-components"><i class="fa fa-check"></i><b>1.9</b> Checking for Principal Components</a></li>
<li class="chapter" data-level="1.10" data-path="index.html"><a href="index.html#drop-outliers"><i class="fa fa-check"></i><b>1.10</b> Drop Outliers</a></li>
<li class="chapter" data-level="1.11" data-path="index.html"><a href="index.html#save-cleaned-data"><i class="fa fa-check"></i><b>1.11</b> Save Cleaned Data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="model-1-random-forest.html"><a href="model-1-random-forest.html"><i class="fa fa-check"></i><b>2</b> [Model 1] Random Forest</a>
<ul>
<li class="chapter" data-level="2.1" data-path="model-1-random-forest.html"><a href="model-1-random-forest.html#perform-random-forest-regression"><i class="fa fa-check"></i><b>2.1</b> Perform Random Forest Regression</a></li>
<li class="chapter" data-level="2.2" data-path="model-1-random-forest.html"><a href="model-1-random-forest.html#random-forest-regression-evaluation"><i class="fa fa-check"></i><b>2.2</b> Random Forest Regression Evaluation</a></li>
<li class="chapter" data-level="2.3" data-path="model-1-random-forest.html"><a href="model-1-random-forest.html#interpretation-of-random-forest-model"><i class="fa fa-check"></i><b>2.3</b> Interpretation of Random Forest Model</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="model-2-tree-regression.html"><a href="model-2-tree-regression.html"><i class="fa fa-check"></i><b>3</b> [Model 2] Tree Regression</a>
<ul>
<li class="chapter" data-level="3.1" data-path="model-2-tree-regression.html"><a href="model-2-tree-regression.html#perform-tree-regression"><i class="fa fa-check"></i><b>3.1</b> Perform Tree Regression</a></li>
<li class="chapter" data-level="3.2" data-path="model-2-tree-regression.html"><a href="model-2-tree-regression.html#tree-regression-evaluation"><i class="fa fa-check"></i><b>3.2</b> Tree Regression Evaluation</a></li>
<li class="chapter" data-level="3.3" data-path="model-2-tree-regression.html"><a href="model-2-tree-regression.html#interpretation-of-tree-regression-model"><i class="fa fa-check"></i><b>3.3</b> Interpretation of Tree Regression Model</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="model-3-linear-regression.html"><a href="model-3-linear-regression.html"><i class="fa fa-check"></i><b>4</b> [Model 3] Linear Regression</a>
<ul>
<li class="chapter" data-level="4.1" data-path="model-3-linear-regression.html"><a href="model-3-linear-regression.html#perform-linear-regression"><i class="fa fa-check"></i><b>4.1</b> Perform Linear Regression</a></li>
<li class="chapter" data-level="4.2" data-path="model-3-linear-regression.html"><a href="model-3-linear-regression.html#linear-regression-evaluation"><i class="fa fa-check"></i><b>4.2</b> Linear Regression Evaluation</a></li>
<li class="chapter" data-level="4.3" data-path="model-3-linear-regression.html"><a href="model-3-linear-regression.html#interpretation-of-linear-model"><i class="fa fa-check"></i><b>4.3</b> Interpretation of Linear Model</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reflections.html"><a href="reflections.html"><i class="fa fa-check"></i><b>5</b> Reflections</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reflections.html"><a href="reflections.html#a-summary-three-models"><i class="fa fa-check"></i><b>5.1</b> A Summary Three Models</a></li>
<li class="chapter" data-level="5.2" data-path="reflections.html"><a href="reflections.html#discussion"><i class="fa fa-check"></i><b>5.2</b> Discussion</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reflections.html"><a href="reflections.html#limitation"><i class="fa fa-check"></i><b>5.2.1</b> Limitation</a></li>
<li class="chapter" data-level="5.2.2" data-path="reflections.html"><a href="reflections.html#future-directions"><i class="fa fa-check"></i><b>5.2.2</b> Future Directions</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">IMLV Final Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="model-2-tree-regression" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> [Model 2] Tree Regression<a href="model-2-tree-regression.html#model-2-tree-regression" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="perform-tree-regression" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Perform Tree Regression<a href="model-2-tree-regression.html#perform-tree-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="finalproj_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>The regression tree plot is impossible to interpret. By setting <code>cp = 0</code>, the expanded as much as it could without being pruned. Although we human are unable to interpret any information from the plot, the machine will understand it thoroughly, and offer accurate predictions.</p>
</div>
<div id="tree-regression-evaluation" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Tree Regression Evaluation<a href="model-2-tree-regression.html#tree-regression-evaluation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="finalproj_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<pre><code>## [1] &quot;The RMSE is: 1.60491397575623&quot;</code></pre>
<p>When we plot the predict values against the true values, we observe that it forms a diagnal line. This means the predict values are really close to the true values. The result of RMSE is only 1.6, also suggesting that the model has great performance in predicting Sales based on Quantity, UnitPrice, month, week and time.</p>
</div>
<div id="interpretation-of-tree-regression-model" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Interpretation of Tree Regression Model<a href="model-2-tree-regression.html#interpretation-of-tree-regression-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>VIP</li>
</ul>
<p><img src="finalproj_files/figure-html/unnamed-chunk-29-1.png" width="672" />
The Variance Importance Plot suggests that only <code>Quantity</code> and <code>UnitPrice</code> are important in the Tree Regression model. The other three variables are neglected in this model.</p>
<ul>
<li>SHAP</li>
</ul>
<p>SHAP (SHapley Additive exPlanations) is a method that explains how individual predictions are made by a machine learning model. SHAP deconstructs a prediction into a sum of contributions from each of the model’s input variables.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>From the above plot, we may infer that <code>Quantity</code> and <code>UnitPrice</code> had significant impacts on the model’s prediction. Note that these two variables also have large standard deviation. We may conclude that most of the variance in <code>Sales</code> come from these two variables. Similar to the results from VIP, <code>month</code>, <code>week</code> and <code>time</code> do not have enough influence in prediction.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="model-1-random-forest.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="model-3-linear-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/wangyeye66/5293FinalProj/edit/main/model2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/wangyeye66/5293FinalProj/blob/main/model2.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
